{
  "rules": {
    "members": {
      ".read": "auth != null",
      ".write": false,
      "$username": {
        ".indexOn": ["profile/id", "stats/total_minutes", "stats/last_activity_date"]
      }
    },
    
    "terminals": {
      ".read": "auth != null",
      ".write": false,
      "$terminal": {
        ".indexOn": ["status", "session/member_id"]
      }
    },
    
    "leaderboards": {
      ".read": "auth != null",
      ".write": false,
      "all-time": {
        ".indexOn": ["rank", "total_minutes"]
      },
      "monthly": {
        "$month": {
          ".indexOn": ["rank", "total_minutes"]
        }
      },
      "weekly": {
        "$week": {
          ".indexOn": ["rank", "total_minutes"]
        }
      }
    },
    
    "daily-stats": {
      ".read": "auth != null",
      ".write": false,
      "$date": {
        ".indexOn": ["summary/total_revenue", "summary/total_sessions"]
      }
    },
    
    "history-archive": {
      ".read": "auth != null",
      ".write": false,
      "$month": {
        "$username": {
          ".indexOn": ["ID", "DATE", "CHARGE"]
        }
      }
    },
    
    "sync-control": {
      ".read": "auth != null",
      ".write": false,
      "request": {
        ".write": "auth != null"
      },
      "status": {
        ".read": true
      }
    },
    
    "meta": {
      ".read": true,
      ".write": false
    },
    
    ".read": false,
    ".write": false
  }
}
